{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\n\nexport function getImagesByQuery(query){\n\n    return axios.get('https://pixabay.com/api/', {\n        params: {\n            key: '52365869-dd7c55ea3ac5eab5a979f8f09',\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n            per_page: 9\n        }\n    })\n\n        .then(res => res.data.hits)\n        .catch(err => console.error(err));\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nexport function createGallery(images) {\n\n    const markup = images\n        .map(image => {\n            const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\n            return `<li class=\"gallery-item\"><a href=\"${image.largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"/>\n                </a>\n                <ul class=\"info\">\n                    <li class=\"info-item\">\n                    <p class=\"text\">Likes:</p>\n                    <span class=\"number\">${image.likes}</span>\n                    </li>\n\n                    <li class=\"info-item\">\n                    <p class=\"text\">Views:</p>\n                    <span class=\"number\">${image.views}</span>\n                    </li>\n\n                    <li class=\"info-item\">\n                    <p class=\"text\">Comments:</p>\n                    <span class=\"number\">${image.comments}</span>\n                    </li>\n\n                    <li class=\"info-item\">\n                    <p class=\"text\">Downloads:</p>\n                    <span class=\"number\">${image.downloads}</span>\n                    </li>\n\n                </ul>\n                </li>`\n        })\n        .join('')\n        document.querySelector('.gallery').innerHTML = markup;\n\n    \n    lightbox.refresh();\n}\n\n\nexport function clearGallery() {\n    document.querySelector('.gallery').innerHTML = '';\n}\n\nexport function showLoader() {\n    document.querySelector('.loader').classList.add('is-open');\n}\n\n\nexport function hideLoader() {\n    document.querySelector('.loader').classList.remove('is-open');\n}\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport * as pixabay from \"./js/pixabay-api\"\nimport * as renderFunc from \"./js/render-functions\"\n\nconst button = document.querySelector('.butn')\nconst input = document.querySelector('.search-input')\nconst form = document.querySelector('.form')\n\nfunction searchImages() {\n    const query = input.value.trim();\n\n    if (!query) {\n        input.reportValidity();\n        return;\n    }\n\n    renderFunc.clearGallery();\n    \n    \n    renderFunc.showLoader();\n    \n\n    setTimeout(()=>{pixabay.getImagesByQuery(query)\n        \n        .then(images => {\n            \n            if (images.length === 0) {\n                iziToast.error({\n                    position: 'topRight',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n                \n            } else {\n                renderFunc.createGallery(images);\n            }\n        })\n\n        .catch(err => {\n            console.error(err)\n        })\n        \n        .finally(() => {\n            renderFunc.hideLoader();\n        });\n},3000)\n\n}\n\nform.addEventListener('submit', searchImages);\n\n\n"],"names":["getImagesByQuery","query","axios","res","err","lightbox","SimpleLightbox","createGallery","images","markup","image","clearGallery","showLoader","hideLoader","input","form","searchImages","renderFunc.clearGallery","renderFunc.showLoader","pixabay.getImagesByQuery","iziToast","renderFunc.createGallery","renderFunc.hideLoader"],"mappings":"owBAGO,SAASA,EAAiBC,EAAM,CAEnC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACb,CACT,CAAK,EAEI,KAAKE,GAAOA,EAAI,KAAK,IAAI,EACzB,MAAMC,GAAO,QAAQ,MAAMA,CAAG,CAAC,CACxC,CCfA,MAAMC,EAAW,IAAIC,EAAe,YAAY,EAEzC,SAASC,EAAcC,EAAQ,CAElC,MAAMC,EAASD,EACV,IAAIE,GAEM,qCAAqCA,EAAM,aAAa;AAAA,kDACzBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2CAK7CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,2CAKXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,2CAKXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,2CAKdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,sBAKjD,EACA,KAAK,EAAE,EACR,SAAS,cAAc,UAAU,EAAE,UAAYD,EAGnDJ,EAAS,QAAO,CACpB,CAGO,SAASM,GAAe,CAC3B,SAAS,cAAc,UAAU,EAAE,UAAY,EACnD,CAEO,SAASC,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,SAAS,CAC7D,CAGO,SAASC,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,SAAS,CAChE,CCjDe,SAAS,cAAc,OAAO,EAC7C,MAAMC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAO,SAAS,cAAc,OAAO,EAE3C,SAASC,GAAe,CACpB,MAAMf,EAAQa,EAAM,MAAM,KAAI,EAE9B,GAAI,CAACb,EAAO,CACRa,EAAM,eAAc,EACpB,MACH,CAEDG,IAGAC,IAGA,WAAW,IAAI,CAACC,EAAyBlB,CAAK,EAEzC,KAAKO,GAAU,CAERA,EAAO,SAAW,EAClBY,EAAS,MAAM,CACX,SAAU,WACV,QAAS,0EAC7B,CAAiB,EAGDC,EAAyBb,CAAM,CAE/C,CAAS,EAEA,MAAMJ,GAAO,CACV,QAAQ,MAAMA,CAAG,CAC7B,CAAS,EAEA,QAAQ,IAAM,CACXkB,GACZ,CAAS,CACT,EAAE,GAAI,CAEN,CAEAP,EAAK,iBAAiB,SAAUC,CAAY"}